<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="2.4.0.737813912858">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 2.4.0">

    <!-- Primary Meta Tags -->
    <title>newDAO1.sol</title>
    <meta name="title" content="newDAO1.sol">
    <meta name="description" content="The MyDAO contract implements a decentralized autonomous organization (DAO) that allows members to create proposals and vote on them." />

    <!-- Canonical -->
    <link rel="canonical" href="http://sprojects.sabanciuniv.edu:8000/contracts/newdao1.sol/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://sprojects.sabanciuniv.edu:8000/contracts/newdao1.sol/">
    <meta property="og:title" content="newDAO1.sol">
    <meta property="og:description" content="The MyDAO contract implements a decentralized autonomous organization (DAO) that allows members to create proposals and vote on them.">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="http://sprojects.sabanciuniv.edu:8000/contracts/newdao1.sol/">
    <meta property="twitter:title" content="newDAO1.sol">
    <meta property="twitter:description" content="The MyDAO contract implements a decentralized autonomous organization (DAO) that allows members to create proposals and vote on them.">

    <script>(function () { var el = document.documentElement, m = localStorage.getItem("doc_theme"), wm = window.matchMedia; if (m === "dark" || (!m && wm && wm("(prefers-color-scheme: dark)").matches)) { el.classList.add("dark") } else { el.classList.remove("dark") } })();</script>

    <link href="../../resources/css/retype.css?v=2.4.0.737813912858" rel="stylesheet" />

    <script type="text/javascript" src="../../resources/js/config.js?v=2.4.0.737813912858" data-turbo-eval="false" defer></script>
    <script type="text/javascript" src="../../resources/js/retype.js?v=2.4.0" data-turbo-eval="false" defer></script>
    <script id="lunr-js" type="text/javascript" src="../../resources/js/lunr.js?v=2.4.0.737813912858" data-turbo-eval="false" defer></script>
</head>
<body>
    <div id="docs-app" class="relative text-base antialiased text-gray-700 bg-white font-body dark:bg-dark-850 dark:text-dark-300">
        <div class="absolute bottom-0 left-0 bg-gray-100 dark:bg-dark-800" style="top: 5rem; right: 50%"></div>
    
        <header id="docs-site-header" class="sticky top-0 z-30 flex w-full h-16 bg-white border-b border-gray-200 md:h-20 dark:bg-dark-850 dark:border-dark-650">
            <div class="container relative flex items-center justify-between grow pr-6 md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton docs-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="docs-sidebar-toggle"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="docs-site-logo" href="../../" class="flex items-center leading-snug text-2xl">
                            <span class="dark:text-white font-semibold line-clamp-1 md:line-clamp-2">SuGovern</span>
                        </a><span class="hidden px-2 py-1 ml-4 text-sm font-semibold leading-none text-root-logo-label-text bg-root-logo-label-bg rounded-sm md:inline-block">Dev Docs</span>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block dark:border-dark-650"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
        
                            <input class="w-full h-10 transition-colors duration-200 ease-in bg-gray-200 border border-transparent rounded md:text-sm hover:bg-white hover:border-gray-300 focus:outline-none focus:bg-white focus:border-gray-500 dark:bg-dark-600 dark:border-dark-600 placeholder-gray-400 dark:placeholder-dark-400"
                            style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search" />
                        </div>
        
                        <!-- Mobile search button mock -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placehokder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button mock -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="docs-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
        <div class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-gray-100 border-gray-200 sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton dark:bg-dark-800 dark:border-dark-650">
            
                <!-- Render this div, if config.showSidebarFilter is `true` -->
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-white border border-gray-200 rounded shadow-none text-sm focus:outline-none focus:border-gray-600 dark:bg-dark-600 dark:border-dark-600" type="text" placeholder="Filter" />
                </div>
            
                <div class="pl-6 mb-4 mt-1">
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-dark-650">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-dark-650">
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 dark:bg-dark-850">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div class="grow min-w-0 px-6 md:px-16">
                        <main class="relative pt-6 pb-16">
                            <div class="docs-markdown" id="docs-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="docs-sidebar-right-toggle"></div>
                
                                <!-- Page content  -->
<doc-anchor-target id="newdao1sol" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#newdao1sol">#</doc-anchor-trigger>
        <span>newDAO1.sol</span>
    </h1>
</doc-anchor-target>
<p>The MyDAO contract implements a decentralized autonomous organization (DAO) that allows members to create proposals and vote on them. It defines a Proposal struct that contains information about each proposal, including its unique identifier, author, name, description, creation timestamp, options, status, power, and proposal information type.
The contract also includes a private function stringsEquals that compares two strings and returns a boolean indicating whether they are equal.
The public variables of the contract include the name, description, debugging information, image URL, and unique identifier of the DAO. It also defines two enums for voting options and proposal status.
The contract imports the itoken.sol and newFactory1.sol contracts and declares a DAOFactory variable for the newFactory1 contract.
The contract is responsible for creating and managing proposals, and tracking voting shares and tokens for voters and YK token holders.</p>
<p>The contract contains several mappings and constants used for tracking and storing data. <br />
These include:</p>
<ul>
<li><p><code v-pre>proposals</code>: A mapping of proposal IDs to Proposal objects. This is used to store all the proposals created by the contract.</p>
</li>
<li><p><code v-pre>votes</code>: A mapping of voter addresses to proposal IDs to boolean values. This is used to track which addresses have already voted for a given proposal to prevent double voting.</p>
</li>
<li><p><code v-pre>tokens_not_refunded</code>: A mapping of voter addresses to proposal IDs to boolean values. This is used to track whether tokens have been refunded for a proposal to prevent multiple refunds.</p>
</li>
<li><p><code v-pre>token_amount_to_be_refunded</code>: A mapping of voter addresses to proposal IDs to refund amounts. This is used to store the amount of tokens to be refunded for a voter.</p>
</li>
<li><p><code v-pre>voter_shares_to_be_given</code>: A mapping of voter addresses to voter share amounts. This is used to track the number of voter shares to be given to a voter.</p>
</li>
<li><p><code v-pre>yk_shares_to_be_given</code>: A mapping of YK token holder addresses to YK share amounts. This is used to track the number of YK shares to be given to a YK token holder.</p>
</li>
<li><p><code v-pre>voter_token</code>: An instance of the ISUToken contract. This is the contract for the voter token used by the DAO.</p>
</li>
<li><p><code v-pre>yk_token</code>: An instance of the ISUToken contract. This is the contract for the YK token used by the DAO.</p>
</li>
<li><p><code v-pre>CREATE_PROPOSAL_MIN_SHARE</code>: A constant that sets the minimum number of shares required to create a proposal.</p>
</li>
<li><p><code v-pre>VOTING_PERIOD</code>: A constant that sets the duration of the voting period for proposals.</p>
</li>
<li><p><code v-pre>nextProposalId</code>: An integer that tracks the ID for the next proposal to be created.</p>
</li>
<li><p><code v-pre>transferLock</code>: A mapping of addresses to boolean values that tracks the transfer lock status for addresses.</p>
</li>
</ul>
<p>The constructor function initializes the DAO contract with the following parameters:</p>
<ul>
<li><p><code v-pre>_dao_name</code>: A string representing the name of the DAO.</p>
</li>
<li><p><code v-pre>_imageUrl</code>: A string representing the URL of the DAO&#x27;s image.</p>
</li>
<li><p><code v-pre>_dao_description</code>: A string representing the description of the DAO.</p>
</li>
<li><p><code v-pre>_dao_id</code>: An integer representing the ID of the DAO.</p>
</li>
<li><p><code v-pre>first_yk</code>: The address of the initial YK token holder.</p>
</li>
<li><p><code v-pre>yk_token_in</code>: An instance of the ISUToken contract representing the YK token used by the DAO.</p>
</li>
<li><p><code v-pre>voter_token_in</code>: An instance of the ISUToken contract representing the voter token used by the DAO.</p>
</li>
<li><p><code v-pre>_factory</code>: An instance of the DAOFactory contract representing the DAO factory used to create the DAO.</p>
</li>
</ul>
<p>In the constructor, the factory, <code v-pre>dao_name</code>, <code v-pre>dao_id</code>, <code v-pre>dao_description</code>, <code v-pre>yk_token</code>, <code v-pre>voter_token</code>, and <code v-pre>imageUrl</code> variables are set to their corresponding parameter values. The <code v-pre>yk_shares_to_be_given</code> and <code v-pre>voter_shares_to_be_give</code>n mappings are then initialized with a share value of 1 * 10 ** 18 for the initial YK token holder.</p>
<doc-anchor-target id="functions">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#functions">#</doc-anchor-trigger>
        <span>Functions:</span>
    </h4>
</doc-anchor-target>
<ul>
<li><p><code v-pre>mint_from_DAO_yk_token</code>: This internal function allows the DAO contract to mint YK tokens. The function takes in a parameter _amount, which specifies the amount of YK tokens to be minted.</p>
</li>
<li><p><code v-pre>mint_from_DAO_voter_token</code>: This internal function allows the DAO contract to mint voter tokens. The function takes in a parameter _amount, which specifies the amount of voter tokens to be minted.</p>
</li>
<li><p><code v-pre>iterate_proposals</code>: This public function iterates through all proposals and emits proposal information for each proposal. It updates the active voter lock if the proposal&#x27;s status is not pending. The function does not take in any parameters.</p>
</li>
<li><p><code v-pre>accept_proposal</code>: This external function accepts a proposal by changing its status to Status.Accepted. The function takes in a parameter _proposalId, which specifies the ID of the proposal to be accepted.</p>
</li>
<li><p><code v-pre>reject_proposal</code>: This external function rejects a proposal by changing its status to Status.Rejected. The function takes in a parameter _proposalId, which specifies the ID of the proposal to be rejected.</p>
</li>
<li><p><code v-pre>pending_proposal</code>: This external function sets a proposal&#x27;s status to Status.Pending. The function takes in a parameter _proposalId, which specifies the ID of the proposal to be set as pending.</p>
</li>
<li><p><code v-pre>withdraw_voter_tokens</code>: This external function allows a user to withdraw voter tokens from the DAO. The function takes in a parameter _amount, which specifies the amount of voter tokens to be withdrawn. The function checks whether the user has enough shares and transfers the specified amount of voter tokens from the DAO to the user. It also mints voter tokens for the DAO.</p>
</li>
<li><p><code v-pre>withdraw_yk_tokens</code>: This external function allows a user to withdraw YK tokens from the DAO. The function takes in a parameter _amount, which specifies the amount of YK tokens to be withdrawn. The function checks whether the user has enough shares and transfers the specified amount of YK tokens from the DAO to the user. It also mints YK tokens for the DAO.</p>
</li>
<li><p><code v-pre>send_yk_tokens_to_address_yk</code>: This function sends YK tokens to a specified address. It takes in two parameters: <code v-pre>yk_candidate</code>, which is the address to send the YK tokens to, and <code v-pre>_amount</code>, which is the amount of YK tokens to send. It requires the caller to have YK privileges and updates the amount of YK tokens that will be given to the specified address.</p>
</li>
<li><p><code v-pre>send_yk_tokens_to_address_yk_directly</code>: This function sends YK tokens directly to a specified address from the DAO. It takes in two parameters: <code v-pre>yk_candidate</code>, which is the address to send the YK tokens to, and <code v-pre>_amount</code>, which is the amount of YK tokens to send. It requires the caller to have YK privileges and updates the amount of YK tokens that will be given to the specified address. In addition to this, it also mints YK tokens from the DAO.</p>
</li>
<li><p><code v-pre>send_voter_tokens_to_address_yk</code>: This function sends voter tokens to a specified address. It takes in two parameters: <code v-pre>voter_candidate</code>, which is the address to send the voter tokens to, and <code v-pre>_amount</code>, which is the amount of voter tokens to send. It requires the caller to have YK privileges and updates the amount of voter tokens that will be given to the specified address.</p>
</li>
<li><p><code v-pre>send_voter_tokens_to_address_yk_directly</code>: This function sends voter tokens directly to a specified address from the DAO. It takes in two parameters: <code v-pre>voter_candidate</code>, which is the address to send the voter tokens to, and <code v-pre>_amount</code>, which is the amount of voter tokens to send. It requires the caller to have YK privileges and updates the amount of voter tokens that will be given to the specified address. In addition to this, it also mints voter tokens from the DAO.</p>
</li>
<li><p><code v-pre>createProposal</code>: This function creates a new proposal. It takes in six parameters: <code v-pre>name</code>, which is the name of the proposal; <code v-pre>description</code>, which is the description of the proposal; <code v-pre>_options</code>, which is an array of vote options; <code v-pre>_options_num</code>, which is an array of corresponding vote option numbers; <code v-pre>_power</code>, which is the maximum vote power for the proposal; and <code v-pre>_type</code>, which is the type of the proposal (0 for normal, 1 for weighted). It requires the caller to have YK privileges and creates a new proposal with the specified parameters. It also updates the proposal count.</p>
</li>
<li><p><code v-pre>vote</code>: This function performs a non-weighted vote on a proposal. It takes in three parameters: <code v-pre>_proposalId</code>, which is the ID of the proposal; <code v-pre>_vote</code>, which is an array of vote options; and <code v-pre>_power</code>, which is an array of corresponding vote powers. It requires the caller to have voter privileges and updates the vote count for the specified proposal.</p>
</li>
</ul>
<p>The code uses several Solidity concepts, such as function modifiers (<code v-pre>require</code> statements) and structs (<code v-pre>Proposal</code>), to ensure that the functions are secure and perform as intended.</p>
<ul>
<li><p><code v-pre>vote_power</code>: This function performs a weighted vote on a proposal. It takes three arguments: <code v-pre>_proposalId</code> (an unsigned integer representing the ID of the proposal), <code v-pre>_vote</code> (a string array representing the vote options), and <code v-pre>_power</code> (an unsigned integer array representing the corresponding vote powers). The function first checks if the voter has already voted, if they have enough shares to vote on the proposal, and if the voting period is still open. If all conditions are met, the function calculates the total power of the votes, checks that the total power does not exceed the proposal power, and then adds the vote powers to the corresponding proposal options. Finally, it updates the voter&#x27;s vote status and active voter lock for the proposal.</p>
</li>
<li><p><code v-pre>vote_power_weighted</code>: This function is similar to <code v-pre>vote_power</code>, but it includes an additional argument <code v-pre>weight</code>, which is a uint representing the weight to apply to the vote powers. The weight is used to determine the influence of each voter&#x27;s shares on the proposal. The function first checks if the voter has already voted, if they have enough shares to vote on the proposal (with the option to change the weight), and if the voting period is still open. If all conditions are met, the function calculates the total power of the votes, checks that the total power does not exceed the proposal power, and then adds the vote powers (multiplied by the weight) to the corresponding proposal options. Finally, it updates the voter&#x27;s vote status and active voter lock for the proposal.</p>
</li>
<li><p><code v-pre>retrieve_proposal_names</code>: This function simply retrieves the names of all proposals. It returns an array of proposal names.</p>
</li>
</ul>
<p>Note that the code uses some external functions, such as <code v-pre>stringsEquals</code>, which is a custom implementation of string comparison, and <code v-pre>voter_token.balanceOf</code>, which retrieves the balance of a voter&#x27;s tokens.</p>
<ul>
<li><p><code v-pre>getProposalName()</code>: This function retrieves an array of proposal names. It loops through all proposals and adds the name of each proposal to an array called <code v-pre>myprops</code>. The function then returns this array.</p>
</li>
<li><p><code v-pre>getDaoid()</code>: This function retrieves the DAO ID. It simply returns the value of the <code v-pre>dao_id</code> variable.</p>
</li>
<li><p><code v-pre>has_yk_priviliges(address chk)</code>: This function checks whether the given address has YK (Yieldly Token) privileges. It first checks if the balance of YK tokens of the given address is greater than or equal to 1. If this condition is satisfied, it returns <code v-pre>true</code>. Otherwise, it retrieves the current DAO using the <code v-pre>factory.getCurrentDAO()</code> function and checks whether any of the parent DAOs have a YK balance greater than or equal to 1 * 10^18. If this condition is satisfied, it returns <code v-pre>true</code>. Otherwise, it returns <code v-pre>false</code>.</p>
</li>
<li><p><code v-pre>getProposalDescription()</code>: This function retrieves an array of proposal descriptions. It loops through all proposals and adds the description of each proposal to an array called <code v-pre>myprops</code>. The function then returns this array.</p>
</li>
<li><p><code v-pre>getProposalVoteNames(uint proposal_idd)</code>: This function retrieves an array of vote names/options for a specific proposal. It retrieves the <code v-pre>options</code> array of the proposal with the given ID and adds each option to an array called <code v-pre>mypropvotes</code>. The function then returns this array.</p>
</li>
<li><p><code v-pre>getProposalVoteNumbers(uint proposal_idd)</code>: This function retrieves an array of vote numbers/totals for a specific proposal. It retrieves the <code v-pre>options_num</code> array of the proposal with the given ID and adds each vote number to an array called <code v-pre>mypropvotenums</code>. The function then returns this array.</p>
</li>
<li><p><code v-pre>getProposalPower(uint proposal_idd)</code>: This function retrieves the power of a specific proposal. It retrieves the <code v-pre>power</code> variable of the proposal with the given ID and returns it.</p>
</li>
<li><p><code v-pre>getProposalType(uint proposal_idd)</code>: This function retrieves the type of a specific proposal. This function is not defined in the provided code.</p>
</li>
<li><p><code v-pre>getProposalType(uint proposal_idd)</code>: This function takes a proposal ID as input and returns a string representing the type of the proposal. The string value is obtained from a mapping called <code v-pre>proposals</code> which maps a proposal ID to a struct containing information about the proposal. The function is <code v-pre>view</code> type, meaning it doesn&#x27;t modify the state of the contract and can be called without incurring any gas cost.</p>
</li>
<li><p><code v-pre>dao_delegation_single_getback_amount_voter(address from, uint256 amount)</code>: This function allows a voter to retrieve a single token that was delegated to another address. The <code v-pre>from</code> parameter specifies the address from which the token will be retrieved and <code v-pre>amount</code> specifies the number of tokens to be retrieved. The function checks that the number of tokens being retrieved is less than or equal to the number of debt tokens held by the <code v-pre>from</code> address. This function can only be called externally.</p>
</li>
<li><p><code v-pre>dao_delegation_single_getback_all_voter(address from)</code>: This function allows a voter to retrieve all tokens that were delegated to another address. The <code v-pre>from</code> parameter specifies the address from which all tokens will be retrieved. This function can only be called externally.</p>
</li>
<li><p><code v-pre>dao_delagation_multiple_getback_all_voter()</code>: This function allows a voter to retrieve all tokens that were delegated to multiple addresses. This function can only be called externally. This function has no parameters.</p>
</li>
<li><p><code v-pre>dao_clawback_single_voter(address from)</code>: This function allows the DAO to retrieve a single token that was delegated to another address by a voter. The <code v-pre>from</code> parameter specifies the address from which the token will be retrieved. The function checks that the caller has YK (Yield Keeper) privileges. This function can only be called externally.</p>
</li>
<li><p><code v-pre>dao_clawback_all_voter()</code>: This function allows the DAO to retrieve all tokens that were delegated to another address by voters. The function checks that the caller has YK (Yield Keeper) privileges. This function can only be called externally.</p>
</li>
<li><p><code v-pre>dao_delegation_single_getback_amount_yk(address from, uint256 amount</code>: This function allows the DAO to retrieve a single token that was delegated to another address by a YK. The <code v-pre>from</code> parameter specifies the address from which the token will be retrieved and <code v-pre>amount</code> specifies the number of tokens to be retrieved. The function checks that the number of tokens being retrieved is less than or equal to the number of debt tokens held by the <code v-pre>from</code> address. This function can only be called externally.</p>
</li>
<li><p><code v-pre>dao_delegation_single_getback_all_yk(address from)</code>:
This function allows the DAO to retrieve all tokens that were delegated to another address by a YK. The <code v-pre>from</code> parameter specifies the address from which all tokens will be retrieved. This function can only be called externally.</p>
</li>
<li><p><code v-pre>dao_delagation_multiple_getback_all_yk()</code>: This function allows the DAO to retrieve all tokens that were delegated to multiple addresses by a YK. The function checks that the caller has YK (Yield Keeper) privileges. This function can only be called externally. This function has no parameters.</p>
</li>
<li><p><code v-pre>dao_clawback_single_yk(address to)</code>: This function allows the DAO to retrieve a single token that was delegated to another address by a YK. The <code v-pre>to</code> parameter specifies the address to which the token will be clawed back. The function checks that the caller has YK.</p>
</li>
</ul>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results />
                            </div>
                            <footer class="clear-both">
                            
                                <nav class="flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../contracts/migrations.sol/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-gray-400 dark:text-dark-400">Previous</span>
                                                <span class="block mt-1">Migrations.​sol</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../contracts/newfactory1.sol/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-gray-400 dark:text-dark-400">Next</span>
                                                <span class="block mt-1">new​Factory​1.​sol</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div class="border-t dark:border-dark-650 pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between">
                                <div>
                                    <ul class="flex flex-wrap items-center text-sm">
                                    </ul>
                                </div>
                                <div class="docs-copyright py-2 text-gray-500 dark:text-dark-350 text-sm leading-relaxed"><p>© Copyright 2023. All rights reserved.</p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-white border-gray-200 lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton dark:bg-dark-850 dark:border-dark-650">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="docs-overlay-target"></div>

    <script>window.__DOCS__ = { "title": "newDAO1.sol", level: 2, icon: "file", hasPrism: false, hasMermaid: false, hasMath: false }</script>
</body>
</html>
